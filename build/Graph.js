!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var i=s(1),n=s(2),o=s(3),r=function(){return this.container="",this.type="line",this.size={width:400,height:400},this.range={min:0,max:0},this.points=[],this.labels={row:[],column:[],positions:{row:[],column:[]},increment:10,prefix:"",suffix:""},this.font={family:"monospace",size:12},this.percentages=[],this.colors=["#2388F2","#F65237","#0DEFA5","#9B7CF3"],this.horizontal=!1,this.shadow=!0,this.prefix="",this.svg="",this.makeLineBarCalculations=function(){this.range=i.getMinMax(this.points),this.labels.row=i.getPointIncrements(this.range.max,this.labels.increment)},this.makePieDoughnutCalculations=function(){this.range=i.getMinMax(this.points),this.percentages=i.getSetPercentages(this.points),this.degrees=i.getDegrees(this.percentages,360)},this.makeDialCalculations=function(){this.range=i.getMinMax(this.points),this.percentages=i.getPercentages(this.points),this.degrees=i.getDegrees(this.percentages,260)},this.lineMakeSvg=function(){this.makeLineBarCalculations(),this.labels.positions.row=i.calculateRowPositions(this.labels.row,this.size.height),this.labels.positions.column=i.calculateColumnPositions(this.labels.column,this.size.width);var t=o.graphLines(this.labels,this.size),e=o.columnLabelText(this.labels,this.labels.column,this.font,this.size),s=o.rowLabelText(this.labels,this.labels.row,this.font,this.size),r=o.lineSets(this.labels,this.points,this.range,this.size,this.colors),a=[];a.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},t)),a.push(n.group({transform:"translate(0,"+this.heightOffset/2+")"},s)),a.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset+")"},e)),a.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},r)),this.svg=o.svg(a,this.font.size,this.size,this.padding)},this.barMakeSvg=function(){this.makeLineBarCalculations();var t=this.labels.column,e=this.labels.row;this.horizontal&&(t=this.labels.row,e=this.labels.column,this.labels.row.reverse()),this.labels.positions.column=i.calculateColumnPositions(t,this.size.width),this.labels.positions.row=i.calculateRowPositions(e,this.size.height);var s=o.graphLines(this.labels,this.size),r=o.columnLabelText(this.labels,t,this.font,this.size),a=o.rowLabelText(this.labels,e,this.font,this.size),h=o.barSets(this.labels,this.points,this.size,this.horizontal,this.colors,this.shadow),u=[];u.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},s)),u.push(n.group({transform:"translate(0,"+this.heightOffset/2+")"},a)),u.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset+")"},r)),u.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},h)),this.svg=o.svg(u,this.font.size,this.size,this.padding)},this.pieMakeSvg=function(){this.makePieDoughnutCalculations();var t=o.bottomLeftLabelText(this.labels.column,this.font,this.size,this.colors),e=o.pieSets(this.degrees,this.size,this.colors,this.shadow),s=[];s.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},e)),s.push(n.group({transform:"translate(0,"+this.heightOffset+")"},t)),this.svg=o.svg(s,this.font.size,this.size,this.padding)},this.doughnutMakeSvg=function(){this.makePieDoughnutCalculations();var t=o.bottomLeftLabelText(this.labels.column,this.font,this.size,this.colors),e=o.centerLabelText("50",this.font,this.size,"#000"),s=o.doughnutSets(this.degrees,this.size,this.colors,this.shadow),i=[];i.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},s)),i.push(n.group({transform:"translate(0,"+this.heightOffset+")"},t)),i.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},e)),this.svg=o.svg(i,this.font.size,this.size,this.padding)},this.dialMakeSvg=function(){this.makeDialCalculations();var t=o.centerLabelText(100*this.percentages[0],this.font,this.size,"#fff"),e=o.bottomCenterLabelText(this.points[0][0]+"/"+this.points[0][1],this.font,this.size,"#000"),s=o.dialSets(this.degrees,this.percentages,this.size,this.colors,this.shadow),i=[];i.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},s)),i.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset/2+")"},t)),i.push(n.group({transform:"translate("+this.widthOffset/2+","+this.heightOffset+")"},e)),this.svg=o.svg(i,this.font.size,this.size,this.padding)},this.render=function(){switch(this.padding={x:120,y:50},this.widthOffset=this.font.size/2+this.padding.x,this.heightOffset=this.font.size/2+this.padding.y,this.type){case"line":this.lineMakeSvg();break;case"bar":this.barMakeSvg();break;case"pie":this.pieMakeSvg();break;case"doughnut":this.doughnutMakeSvg();break;case"dial":this.dialMakeSvg()}this.container.innerHTML=this.svg},this.setContainer=function(t){this.container=t},this.setType=function(t){this.type=t},this.setSize=function(t,e){this.size.width=t,this.size.height=e},this.setLabels=function(t){this.labels.column=t},this.setPoints=function(t){this.points=t},this.setIncrement=function(t){this.labels.increment=t},this.setHorizontal=function(t){this.horizontal=t},this.setShadow=function(t){this.shadow=t},this.setColors=function(t){this.colors=t},this.setPrefix=function(t){this.labels.prefix=t},this.setSuffix=function(t){this.labels.suffix=t},this.setFontFamily=function(t){this.font.family=t},this.setFontSize=function(t){this.font.size=t},this};t.exports=r},function(t,e){"use strict";function s(){}s.prototype.attributesToString=function(t){var e="";for(var s in t){var i=s.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});e+=i+'="'+t[s]+'" '}return e},s.prototype.flattenPoints=function(t){var e=[];return t.map(function(t){t.map(function(t){"object"==typeof t?t.map(function(t){e.push(t)}):e.push(t)})}),e},s.prototype.getPointIncrements=function(t,e){for(var s=Math.ceil(t/e)+1,i=[],n=0;s>n;n++)i.push(n*e);return i.reverse(),i},s.prototype.getSetPercentages=function(t){var e=[],s=this.flattenPoints(t),i=s.reduce(function(t,e){return t+e},0);return t.map(function(t){e.push(t[0]/i)}),e},s.prototype.getPercentages=function(t){var e=[],s=this.flattenPoints(t);return e.push(s[0]/s[1]),e},s.prototype.getDegrees=function(t,e){var s=[];return t.map(function(t){s.push(t*e)}),s},s.prototype.getMinMax=function(t){var e={},s=this.flattenPoints(t);return e.min=Array.min(s),e.max=Array.max(s),e},s.prototype.calculateColumnPositions=function(t,e){var s=[],i=e/(t.length-1);return t.forEach(function(t,e,n){var o=Math.round(i*e);s.push(o)}),s},s.prototype.calculateRowPositions=function(t,e){var s=[],i=e/(t.length-1);return t.forEach(function(t,e,n){var o=Math.round(i*e);s.push(o)},this),s},s.prototype.calculateY=function(t,e,s){var i=this.normalizeY(t,e,s);return this.reversePosY(i,0,s)},s.prototype.calculateX=function(t,e,s){return this.normalizeX(t,e,s)},s.prototype.normalizeY=function(t,e,s){return s/e*t},s.prototype.normalizeX=function(t,e,s){return s/e*t},s.prototype.reversePosY=function(t,e,s){return s+e-t},s.prototype.reversePosX=function(t,e,s){return s+e-t},s.prototype.calculateAngleX=function(t,e,s){return t+e*Math.cos(Math.PI*(s/180))},s.prototype.calculateAngleY=function(t,e,s){return t+e*Math.sin(Math.PI*(s/180))},s.prototype.sortDesc=function(t,e){return e-t},Array.max=function(t){return Math.max.apply(Math,t)},Array.min=function(t){return Math.min.apply(Math,t)},t.exports=new s},function(t,e,s){"use strict";function i(){}var n=s(1);i.prototype.text=function(t,e){t=n.attributesToString(t);var s="<text "+t+">"+e+"</text>";return s},i.prototype.line=function(t){t=n.attributesToString(t);var e="<line "+t+"/>";return e},i.prototype.circle=function(t){t=n.attributesToString(t);var e="<circle "+t+"/>";return e},i.prototype.path=function(t,e){t=n.attributesToString(t);var s="";e.forEach(function(t,e,i){s+=t.type,t.values&&t.values.map(function(t){s+=t+" "})});var i="<path "+t+' d="'+s.trim()+'" />';return i},i.prototype.dash=function(t){var e=[{type:"M",values:[0,0]},{type:"",values:[-2.6,0]},{type:"",values:[-3.8,-20]},{type:"",values:[3.8,-20]},{type:"",values:[2.6,0]},{type:"Z"}],s=this.path(t,e);return s},i.prototype.filterShadow=function(t,e){var s=n.attributesToString({id:t,width:"200%",height:"200%"}),i=n.attributesToString({"in":"SourceAlpha",result:"blurOut"}),o=n.attributesToString({"in":"blurOut",result:"offOut",dx:0,dy:0}),r=n.attributesToString({"in":"offOut",mode:"normal"}),a=["<defs>","<filter "+s+">","<feGaussianBlur "+i+' stdDeviation="'+e+'" />',"<feOffset "+o+" />","<feBlend "+r+" />","</filter>","</defs>"];return a},i.prototype.clipPath=function(t,e){var s=n.attributesToString({id:t}),i=["<defs>","<clipPath "+s+">",e,"</clipPath>","</defs>"];return i},i.prototype.group=function(t,e){var s=n.attributesToString(t),i=["<g "+s+">",e,"</g>"];return i},t.exports=new i},function(t,e,s){"use strict";function i(){}var n=s(1),o=s(2);i.prototype.columnLabelText=function(t,e,s,i){var n="";return e.forEach(function(e,r,a){var h=t.positions.column[r],u=t.prefix+e+t.suffix,l=o.text({x:h,y:i.height,fill:"#888",fontSize:s.size,fontFamily:s.family,textAnchor:"middle"},u);n+=l}),n},i.prototype.rowLabelText=function(t,e,s,i){var n="";return e.forEach(function(e,i,r){var a=t.positions.row[i]+s.size/2,h=t.prefix+e+t.suffix,u=o.text({x:0,y:a,fill:"#888",fontSize:s.size,fontFamily:s.family,textAnchor:"right"},h);n+=u}),n},i.prototype.bottomLeftLabelText=function(t,e,s,i){var r="";return t.forEach(function(a,h,u){var l=1.4*e.size,p=t.length-1,f=l*p-l*h,c=n.reversePosY(f,0,s.height),g=o.text({x:0,y:c,fill:i[h],fontSize:e.size,fontFamily:e.family,textAnchor:"right"},a);r+=g}),r},i.prototype.bottomCenterLabelText=function(t,e,s,i){var r="",a=s.width/2,h=n.reversePosY(0,0,s.height),u=o.text({x:a,y:h,fill:i,fontSize:e.size,fontFamily:e.family,textAnchor:"middle"},t);return r+=u},i.prototype.centerLabelText=function(t,e,s,i){var n="",r=s.width/2,a=e.size/2+s.height/2,h=o.text({x:r,y:a,fill:i,fontSize:e.size,fontFamily:e.family,textAnchor:"middle"},t);return n+=h},i.prototype.graphLines=function(t,e){var s="";return t.positions.column.map(function(t){var i=o.line({x1:t,y1:0,x2:t,y2:e.height,stroke:"#ccc",strokeDasharray:"5, 5"});s+=i}),t.positions.row.map(function(t){var i=o.line({x1:0,y1:t,x2:e.width,y2:t,stroke:"#ccc",strokeDasharray:"5, 5"});s+=i}),s},i.prototype.lineSets=function(t,e,s,i,r){var a=[];return e.forEach(function(e,s,h){var u=[];e.forEach(function(e,s,o){var r=s>0?"":"M";u.push({type:r,values:[t.positions.column[s],n.calculateY(e,t.row[0],i.height)]})});var l=o.path({fill:"transparent",stroke:r[s],strokeWidth:"6",strokeLinecap:"round"},u);a.push(l)}),a},i.prototype.barSets=function(t,e,s,i,r,a){var h=[];return e.forEach(function(e,u,l){var p=0;e.sort(n.sortDesc),e.forEach(function(l,f,c){var g=16,y=-(g/4),v=(g+y)*(e.length-1)/2,d={fill:"transparent",stroke:r[p],strokeWidth:g,strokeLinecap:"round"};if(i){var m=t.row[t.row.length-1],x=g/3,b={transform:"translate("+x+", 0)",opacity:"0.15",fill:"transparent",stroke:"#000",strokeWidth:g,strokeLinecap:"round"},w=t.positions.row[u]+f*(g+y)-v;if("number"==typeof l){var z=[{type:"M",values:[n.calculateX(0,m,s.width),w]},{type:"",values:[n.calculateX(l,m,s.width)-g/2,w]}];a&&h.push(o.path(b,z)),h.push(o.path(d,z)),p++}else"object"==typeof l&&(l.sort(n.sortDesc),l.map(function(t){d.stroke=r[p];var e=[{type:"M",values:[n.calculateX(0,m,s.width),w]},{type:"",values:[n.calculateX(t,m,s.width)-g/2,w]}];a&&h.push(o.path(b,e)),h.push(o.path(d,e)),p++}))}else{var m=t.row[0],x=-(g/3),b={transform:"translate("+x+", 0)",opacity:"0.15",fill:"transparent",stroke:"#000",strokeWidth:g,strokeLinecap:"round"},S=t.positions.column[u]+f*(g+y)-v;if("number"==typeof l){var z=[{type:"M",values:[S,n.calculateY(0,m,s.height)]},{type:"",values:[S,n.calculateY(l,m,s.height)+g/2]}];a&&h.push(o.path(b,z)),h.push(o.path(d,z)),p++}else"object"==typeof l&&(l.sort(n.sortDesc),l.map(function(t){d.stroke=r[p];var e=[{type:"M",values:[S,n.calculateY(0,m,s.height)]},{type:"",values:[S,n.calculateY(t,m,s.height)+g/2]}];a&&h.push(o.path(b,e)),h.push(o.path(d,e)),p++}))}})}),h},i.prototype.pieSets=function(t,e,s,i){var r=[],a={x:e.width/2,y:e.height/2},h=e.height/2,u=0;t.forEach(function(t,e,i){var l={fill:s[e]},p=e>0?u:0,f=-90+p,c=0+f,g=t+f;u+=t;var y=180+f,v=n.calculateAngleX(a.x,h,c),d=n.calculateAngleY(a.y,h,c),m=[{type:"M",values:[a.x,a.y]},{type:"",values:[v,d]}],x=[];t>180&&x.push(y),x.push(g),x.map(function(t){var e=n.calculateAngleX(a.x,h,t),s=n.calculateAngleY(a.y,h,t);m.push({type:"A",values:[h,h,0,0,1]}),m.push({type:"",values:[e,s]})}),m.push({type:"Z"}),r.push(o.path(l,m))});var l=[],p=o.group({},r);return i&&l.push(o.filterShadow("pie-shadow",8)),l.push(o.group({filter:"url(#pie-shadow)",opacity:.15},p)),l.push(p),l},i.prototype.doughnutSets=function(t,e,s,i){var r={x:e.width/2,y:e.height/2},a=e.height/2,h=a-40,u=n.calculateAngleX(r.x,a,0),l=n.calculateAngleY(r.y,a,0),p=n.calculateAngleX(r.x,a,180),f=n.calculateAngleY(r.y,a,180),c=n.calculateAngleX(r.x,h,0),g=n.calculateAngleY(r.y,h,0),y=n.calculateAngleX(r.x,h,180),v=n.calculateAngleY(r.y,h,180),d=[{type:"M",values:[u,l]},{type:"A",values:[a,a,0,0,1]},{type:"",values:[p,f]},{type:"A",values:[a,a,0,0,1]},{type:"",values:[u,l]},{type:"Z"},{type:"M",values:[c,g]},{type:"A",values:[h,h,0,0,0]},{type:"",values:[y,v]},{type:"A",values:[h,h,0,0,0]},{type:"",values:[c,g]},{type:"Z"}],m=[],x=o.path({},d);m.push(o.clipPath("doughnut-clip",x)),m.push(o.filterShadow("doughnut-shadow",8));var b=this.pieSets(t,e,s,!1),w=o.group({clipPath:"url(#doughnut-clip)"},b);return i&&m.push(o.group({filter:"url(#doughnut-shadow)",opacity:.15},w)),m.push(w),m},i.prototype.dialSets=function(t,e,s,i,r){for(var a={x:s.width/2,y:s.height/2},h=s.height/3.2,u=t-220,l=h-15,p=n.calculateAngleX(a.x,l,u),f=n.calculateAngleY(a.y,l,u),c=o.circle({cx:p,cy:f,r:5,fill:"#fff"}),g=[],y=h+15,v=-150,d=0;260>d;d+=20){var m=d/260>e?.2:1,x=n.calculateAngleX(a.x,y,d-v),b=n.calculateAngleY(a.y,y,d-v),w=o.dash({transform:"translate("+x+", "+b+") rotate("+(d-120)+", 0, 0)",fill:i[0],opacity:m});g.push(w)}var z=[];z.push(o.filterShadow("dial-shadow",6));var S=o.circle({cx:a.x,cy:a.y,r:h,fill:i[0]});return r&&z.push(o.group({filter:"url(#doughnut-shadow)",opacity:.15},S)),z.push(S),z.push(c),z.push(g),z},i.prototype.svg=function(t,e,s,i){var o=e/2+i.x,r=e/2+i.y,a=s.width+o,h=s.height+r,u=n.attributesToString({width:a,height:h}),l=["<svg "+u+">",t,"</svg>"];return l},t.exports=new i}])});