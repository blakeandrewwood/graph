!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";function i(t){n.validateConfig(t),this.settings={container:null,type:null,colors:[],orientation:null,strokeWidth:4},this.data={axisLabels:{x:[],y:[]},seriesLabels:[],series:[]},this.positions={size:{x:0,y:0},padding:{x:0,y:0},axis:{x:[],y:[]},seriesLabels:[],series:[]},this.DOM=new a,this.render(t)}var n=s(5),a=s(6),r=(s(9),s(12),s(14),s(15),s(16));i.prototype.setup=function(t){t.container&&(this.settings.container=t.container),t.type&&(this.settings.type=t.type),t.colors&&(this.settings.colors=t.colors),t.orientation&&(this.settings.orientation=t.orientation),t.padding&&(t.padding.x&&(this.positions.padding.x=t.padding.x),t.padding.y&&(this.positions.padding.y=t.padding.y)),t.width&&(this.positions.size.x=t.width),t.height&&(this.positions.size.y=t.height),t.series&&(this.data.series=t.series);var e=Math.getMinMax(this.data.series);this.data.min=e.min,this.data.max=e.max,this.data.range=Math.getRange({min:this.data.min,max:this.data.max}),t.axisLabels&&("bar"===this.settings.type&&"horizontal"==this.settings.orientation?(this.data.axisLabels.x=this.data.range,this.data.axisLabels.y=t.axisLabels):(this.data.axisLabels.x=t.axisLabels,this.data.axisLabels.y=this.data.range)),this.positions.axis.x=Math.calculateAxisXPositions({labels:this.data.axisLabels.x,width:this.positions.size.x}),this.positions.axis.y=Math.calculateAxisYPositions({labels:this.data.axisLabels.y,height:this.positions.size.y}),this.positions.series=[],this.positions.series=r.calculate({settings:this.settings,data:this.data,positions:this.positions}),t.seriesLabels&&(this.data.seriesLabels=t.seriesLabels)},i.prototype.render=function(t){this.setup(t),this.DOM.createSvg({width:this.positions.size.x+this.positions.padding.x,height:this.positions.size.y+this.positions.padding.y}),this.DOM.createDoughnut({positions:this.positions,data:this.data,settings:this.settings}),this.DOM.render({container:this.settings.container,positions:this.positions})},i.prototype.update=function(t){this.render(t)},t.exports=i},,,,,function(t,e){"use strict";function s(){}s.validateConfig=function(t){if("string"!=typeof t.container)throw new Error("Container for chart has not been set.");if("number"!=typeof t.width)throw new Error("Width of chart has not been set.");if("number"!=typeof t.height)throw new Error("Height of chart has not been set.");if("number"!=typeof t.padding.x)throw new Error("Width padding of chart has not been set.");if("number"!=typeof t.padding.y)throw new Error("Height padding of chart has not been set.");switch(t.type){case"line":break;case"bar":switch(t.orientaion){case"vertical":case"horizontal":break;default:throw new Error("Orientation has not been set.")}break;case"pie":break;case"doughnut":break;case"dial":break;default:throw new Error("Type of chart unknown.")}if("object"!=typeof t.colors)throw new Error("Chart colors have not been set.");if("object"!=typeof t.axisLabels)throw new Error("Axis labels have not been set.");if("object"!=typeof t.seriesLabels)throw new Error("Series labels have not been set.");if("object"!=typeof t.series)throw new Error("Series have not been set.")},t.exports=s},function(t,e,s){"use strict";function i(){this.container=null,this.attributes={svg:null,grid:{x:[],y:[]},axisLabels:{x:[],y:[]},seriesLabels:{x:[],y:[]},dataObjects:[]},this.elements={svg:null,grid:{x:[],y:[]},axisLabels:{x:[],y:[]},seriesLabels:{x:[],y:[]},dataObjects:[],groups:[]}}var n=s(7),a=s(8),r=(s(9),s(10)),o=s(11),u=s(12),c=s(14),h=s(15),l=s(16),p=s(13);i.prototype.createSvg=function(t){this.attributes.svg=t},i.prototype.createGrid=function(t){this.attributes.grid=r.create(t)},i.prototype.createLabels=function(t){this.attributes.axisLabels=o.create(t)},i.prototype.createBars=function(t){this.attributes.dataObjects=u.create(t)},i.prototype.createLine=function(t){this.attributes.dataObjects=c.create(t)},i.prototype.createPie=function(t){this.attributes.dataObjects=h.create(t)},i.prototype.createDoughnut=function(t){this.attributes.dataObjects=l.create(t)},i.prototype.renderInitialize=function(t){this.container=document.getElementById(t.container),this.elements.svg?a.setElementAttributes(this.elements.svg,this.attributes.svg):(this.elements.svg=n.element("svg",this.attributes.svg),a.appendChild(this.container,this.elements.svg))},i.prototype.renderAllElements=function(){p.renderElements(this.attributes.grid.x,this.elements.grid.x,"line",n.element),p.renderElements(this.attributes.grid.y,this.elements.grid.y,"line",n.element),p.renderElements(this.attributes.axisLabels.x,this.elements.axisLabels.x,"circle",n.element),p.renderElements(this.attributes.axisLabels.y,this.elements.axisLabels.y,"circle",n.element),p.renderElements(this.attributes.dataObjects,this.elements.dataObjects,"path",n.element)},i.prototype.renderGroups=function(t){var e=5,s={x:t.positions.padding.x-e,y:e},i=n.element("g",{transform:"translate("+s.x+", "+s.y+")"});a.appendChildren(i,this.elements.grid.x),a.appendChildren(i,this.elements.grid.y),a.appendChildren(i,this.elements.axisLabels.x),a.appendChildren(i,this.elements.axisLabels.y),a.appendChildren(i,this.elements.dataObjects),p.removeElements(this.elements.groups),this.elements.groups.push(i)},i.prototype.render=function(t){this.renderInitialize(t),this.renderAllElements(),this.renderGroups(t),a.appendChildren(this.elements.svg,this.elements.groups)},t.exports=i},function(t,e,s){"use strict";function i(){}var n=s(8);i.element=function(t,e){var s=document.createElementNS("http://www.w3.org/2000/svg",t);return n.setElementAttributes(s,e),s},t.exports=i},function(t,e){"use strict";function s(){}s.setElementAttributes=function(t,e){for(var s in e){var i=s.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});t.setAttribute(i,e[s])}},s.appendChild=function(t,e){t.appendChild(e)},s.appendChildren=function(t,e){e.map(function(e){t.appendChild(e)})},s.buildPathString=function(t){var e="";return t.forEach(function(t,s,i){e+=t.type,t.values&&t.values.map(function(t){e+=t+" "})}),e.trim()},t.exports=s},function(t,e){"use strict";Math.getRange=function(t){for(var e=[],s=t.max/4,i=0,n=0;(n=i*s)<=t.max;i++)e.push(Math.floor(n));return e},Math.calculateAxisXPositions=function(t){var e=[];if(t.labels.length>1){var s=t.width/(t.labels.length-1);t.labels.forEach(function(t,i){e.push(Math.round(s*i))})}else e.push(Math.round(width/2));return e},Math.calculateAxisYPositions=function(t){var e=[];if(t.labels.length>1){var s=t.height/(t.labels.length-1);t.labels.forEach(function(t,i){e.push(Math.round(s*i))})}else e.push(Math.round(height/2));return e},Math.flattenSet=function(t){var e=[];return t.map(function(t){t.map(function(t){"object"==typeof t?t.map(function(t){e.push(t)}):e.push(t)})}),e},Math.getMinMax=function(t){var e=this.flattenSet(t),s={min:Array.min(e),max:Array.max(e)};return s},Math.calculateY=function(t,e,s){var i=this.normalizeY(t,e,s);return this.reversePosY(i,0,s)},Math.calculateX=function(t,e,s){return this.normalizeX(t,e,s)},Math.normalizeY=function(t,e,s){return s/e*t},Math.normalizeX=function(t,e,s){return s/e*t},Math.reversePosY=function(t,e,s){return s+e-t},Math.reversePosX=function(t,e,s){return s+e-t},Array.max=function(t){return Math.max.apply(Math,t)},Array.min=function(t){return Math.min.apply(Math,t)},Math.sortByPointAsc=function(t,e){return t.dataPoint-e.dataPoint},Math.calculateAngleX=function(t,e,s){return t+e*Math.cos(Math.PI*(s/180))},Math.calculateAngleY=function(t,e,s){return t+e*Math.sin(Math.PI*(s/180))},Math.getSetPercentages=function(t){var e=[],s=this.flattenSet(t),i=s.reduce(function(t,e){return t+e},0);return t.map(function(t){e.push(t[0]/i)}),e},Math.getPercentages=function(t){var e=[],s=this.flattenSet(t);return e.push(s[0]/s[1]),e},Math.getDegrees=function(t,e){var s=[];return t.map(function(t){s.push(t*e)}),s},t.exports=Math},function(t,e){"use strict";function s(){}s.createX=function(t){var e=[];return t.axis.x.map(function(s){e.push({x1:s,y1:0,x2:s,y2:t.size.y,strokeDasharray:"5, 5",strokeWidth:"2",stroke:"#eee"})}),e},s.createY=function(t){var e=[];return t.axis.y.map(function(s){e.push({x1:0,y1:s,x2:t.size.x,y2:s,strokeDasharray:"5, 5",strokeWidth:"2",stroke:"#eee"})}),e},s.create=function(t){var e={x:this.createX(t),y:this.createY(t)};return e},t.exports=s},function(t,e){"use strict";function s(){}s.createX=function(t){var e=[];return t.data.axisLabels.x.forEach(function(s,i){e.push({cx:t.positions.axis.x[i],cy:t.positions.size.y,r:5,fill:"#aaa"})}),e},s.createY=function(t){var e=[];return t.data.axisLabels.y.forEach(function(s,i){e.push({cx:0,cy:t.positions.axis.y[i],r:5,fill:"#aaa"})}),e},s.create=function(t){var e={x:this.createX(t),y:this.createY(t)};return e},t.exports=s},function(t,e,s){"use strict";function i(){}var n=s(9),a=s(8);i.calculate=function(t){var e=[];return t.data.series.forEach(function(s,i){var a=[];s.forEach(function(e,s){if("number"==typeof e.length){var i=[];e.map(function(e){var s;s=n.calculateY(e,t.data.max,t.positions.size.y),s=n.round(s),s+=t.settings.strokeWidth/2,i.push(s)},this),a.push(i)}else{var r;r=n.calculateY(e,t.data.max,t.positions.size.y),r=n.round(r),r+=t.settings.strokeWidth/2,a.push(r)}}),e.push(a)}),e},i.createAttribute=function(t,e,s,i,r,o,u){var c;if(r)c=t.positions.axis.x[s];else{var h=t.settings.strokeWidth,l=-(h/4),p=(h+l)*(u-1)/2;c=t.positions.axis.x[s]+o*(h+l)-p}var f=n.calculateY(0,t.data.max,t.positions.size.y),d=e,g=[{type:"M",values:[c,f]},{type:"",values:[c,d]}],x=a.buildPathString(g),y={d:x,stroke:i,strokeWidth:t.settings.strokeWidth,strokeLinecap:"round",dataPoint:d};return y},i.create=function(t){var e=[];return t.positions.series.forEach(function(s,i){var a=0;s.forEach(function(r,o){if("number"==typeof r.length){var u=[];r.map(function(e){var s=this.createAttribute(t,e,i,t.settings.colors[a],!0);u.push(s),a++},this),u.sort(n.sortByPointAsc),u.map(function(t){e.push(t)})}else{var c=this.createAttribute(t,r,i,t.settings.colors[a],!1,o,s.length);e.push(c),a++}},this)},this),e},t.exports=i},function(t,e){"use strict";function s(){}s.renderElements=function(t,e,s,i){this.removeElements(e);t.length;t.forEach(function(t,n){var a=i(s,t);e.push(a)})},s.removeElements=function(t){t.map(function(t){t.remove()}),t.splice(0,t.length)},t.exports=s},function(t,e,s){"use strict";function i(){}var n=s(9),a=s(8);i.calculate=function(t){var e=[];return t.data.series.forEach(function(s,i){var a=[];s.forEach(function(e,s){var i=n.calculateY(e,t.data.max,t.positions.size.y);a.push(i)}),e.push(a)}),e},i.create=function(t){var e=[];return t.positions.series.forEach(function(s,i){var n=[];s.forEach(function(e,s){var i={type:"",values:[]};0===s&&(i.type="M");var a=t.positions.axis.x[s];i.values.push(a,e),n.push(i)});var r=a.buildPathString(n),o=t.settings.colors[i],u={d:r,stroke:o,fill:"transparent",strokeWidth:t.settings.strokeWidth,strokeLinecap:"round"};e.push(u)},this),e},t.exports=i},function(t,e,s){"use strict";function i(){}var n=s(9),a=s(8);i.calculate=function(t){var e=n.getSetPercentages(t.data.series),s=n.getDegrees(e,360);return s},i.createSliceAttribute=function(){},i.create=function(t){var e=[],s={x:t.positions.size.x/2,y:t.positions.size.y/2},i=s.y,r=0,o=t.settings.colors;return t.positions.series.forEach(function(t,u){var c={fill:o[u]},h=u>0?r:0,l=-90+h,p=0+l,f=t+l;r+=t;var d=180+l,g=n.calculateAngleX(s.x,i,p),x=n.calculateAngleY(s.y,i,p),y=[{type:"M",values:[s.x,s.y]},{type:"",values:[g,x]}],b=[];t>180&&b.push(d),b.push(f),b.map(function(t){var e=n.calculateAngleX(s.x,i,t),a=n.calculateAngleY(s.y,i,t);y.push({type:"A",values:[i,i,0,0,1]}),y.push({type:"",values:[e,a]})}),y.push({type:"Z"}),c.dataPoint=x,c.dataIndex=u,c.d=a.buildPathString(y),e.push(c)}),e},t.exports=i},function(t,e,s){"use strict";function i(){}var n=s(15),a=s(9),r=s(8);i.calculate=function(t){var e=a.getSetPercentages(t.data.series),s=a.getDegrees(e,360);return s},i.createShape=function(t){var e={x:t.positions.size.x/2,y:t.positions.size.y/2},s=e.y,i=s-a.floor(t.positions.size.y/3.8),n=a.calculateAngleX(e.x,s,0),o=a.calculateAngleY(e.y,s,0),u=a.calculateAngleX(e.x,s,180),c=a.calculateAngleY(e.y,s,180),h=a.calculateAngleX(e.x,i,0),l=a.calculateAngleY(e.y,i,0),p=a.calculateAngleX(e.x,i,180),f=a.calculateAngleY(e.y,i,180),d=[{type:"M",values:[n,o]},{type:"A",values:[s,s,0,0,1]},{type:"",values:[u,c]},{type:"A",values:[s,s,0,0,1]},{type:"",values:[n,o]},{type:"Z"},{type:"M",values:[h,l]},{type:"A",values:[i,i,0,0,0]},{type:"",values:[p,f]},{type:"A",values:[i,i,0,0,0]},{type:"",values:[h,l]},{type:"Z"}],g=r.buildPathString(d),x={d:g};return x},i.create=function(t){var e=this.createShape(t);n.create(t);return[e]},t.exports=i}])});